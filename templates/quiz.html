{% extends "base.html" %} {% block page_title %}Kuis AI{% endblock %} {% block
page_subtitle %}Skor total Anda: {{ total_score }}{% endblock %} {% block
content %}
<div class="card">
  <div class="progress-wrap">
    Soal ke {{ progress + 1 if progress < max_questions else max_questions }}
    dari {{ max_questions }}
    <div class="progress">
      <div class="progress-track">
        <div
          class="progress-bar"
          style="--progress: {{ ((progress / max_questions) * 100)|round(2) }}%"
        ></div>
      </div>
    </div>
  </div>

  <!-- form pertanyaan & opsi -->
  {% if question %}
  <form method="post">
    <p style="font-size: 18px; margin-top: 0">{{ question.text }}</p>
    <input type="hidden" name="question_id" value="{{ question.id }}" />
    {% for opt in options %}
    <label class="option">
      <input type="radio" name="option_id" value="{{ opt.id }}" required />
      <span>{{ opt.text }}</span>
    </label>
    {% endfor %}
    <div style="height: 10px"></div>
    <button class="btn" type="submit">Kirim Jawaban</button>
    <a class="btn btn-ghost" href="{{ url_for('leaderboard') }}"
      >Lihat Papan Peringkat</a
    >
  </form>
  {% else %}
  <p>Belum ada pertanyaan, jalankan seeding terlebih dahulu.</p>
  {% endif %}
</div>
{% endblock %}
